<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Quixlab - Bootstrap Admin Dashboard Template by Themefisher.com</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon.png">
    <!-- Custom Stylesheet -->
    <link href="./plugins/tables/css/datatable/dataTables.bootstrap4.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

</head>

<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="loader">
            <svg class="circular" viewBox="25 25 50 50">
                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" />
            </svg>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    
    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

        <!--**********************************
            Nav header start
        ***********************************-->
        <div class="nav-header">
            <div class="brand-logo">
                <a href="indexAdmin.html">
                    <b class="logo-abbr"><img src="images/logo.png" alt=""> </b>
                    <span class="logo-compact"><img src="./images/logo-compact.png" alt=""></span>
                    <span class="brand-title">
                        <img src="images/logo-text.png" alt="">
                    </span>
                </a>
            </div>
        </div>
        <!--**********************************
            Nav header end
        ***********************************-->


        <!--**********************************
            Header start
        ***********************************-->
        <div class="header">    
            <div class="header-content clearfix">
                <div class="nav-control">
                    <div class="hamburger">
                        <span class="toggle-icon"><i class="icon-menu"></i></span>
                    </div>
                </div>
                <div class="header-left">
                </div>
                <div class="header-right">
                    <ul>
                        <li class="icons dropdown d-none d-md-flex">
                            <a href="javascript:void(0)" class="log-user" data-toggle="dropdown">
                                <span>English</span> <i class="fa fa-angle-down f-s-14" aria-hidden="true"></i>
                            </a>
                        </li>
                        <li class="icons dropdown">
                            <div class="user-img c-pointer position-relative" data-toggle="dropdown">
                                <span class="activity active"></span>
                                <img src="images/user/1.png" height="40" width="40" alt="">
                            </div>
                            <div class="drop-down dropdown-profile animated fadeIn dropdown-menu">
                                <div class="dropdown-content-body">
                                    <ul>
                                        <hr class="my-2">
                                        <li>
                                            <a href="page-lock.html"><i class="icon-lock"></i> <span>Lock Screen</span></a>
                                        </li>
                                        <li><a href="page-login.html"><i class="icon-key"></i> <span>Logout</span></a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->
     <!--**********************************
            Sidebar start
        ***********************************-->
        <div class="nk-sidebar">           
            <div class="nk-nav-scroll">
                <ul class="metismenu" id="menu">
                    <li class="nav-label">Dashboard</li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-user menu-icon"></i><span class="nav-text">Patient</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="./ListOfPatients.html">List Of Patients</a></li>
                            <li><a href="./SearchPatients.html">Search Patient</a></li>
                            <!-- <li><a href="./index-2.html">Home 2</a></li> -->
                        </ul>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-stethoscope menu-icon"></i><span class="nav-text">Doctor</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="./registerDoctorPage.html">Register Doctor</a></li>
                            <li><a href="./ListOfDoctors.html">List of Doctor</a></li>
                        </ul>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="fa fa-stethoscope menu-icon"></i><span class="nav-text">Staff</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="./registerStaff.html">Register Staff</a></li>
                            <li><a href="./ListOfStaffs.html">List of Staff</a></li>
                        </ul>
                    </li>
                  
                </ul>
            </div>
        </div>
        <!--**********************************
            Sidebar endccc   
        ***********************************-->

        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Search Patients</h5>
            
                    <form class="row g-3 align-items-center">
                      <div class="col-md-6">
                          <div class="input-group">
                              <input type="text" class="form-control me-2" id="search" placeholder="Enter Patients No IC">
                              <button type="button" class="btn btn-primary" onclick="searchPatients()">
                                  Search
                              </button>
                          </div>
                      </div>
                  </form><!-- Horizontal Form -->
            
                </div>
            </div>

      <div class="card">
            <div class="card-body">
                    <h5 class="card-title">Result</h5>
            <div class="table-responsive">
                <table class="table table-hover">
                  <thead>
                    <tr>
                      <th>First Name</th>
                      <th>Last Name</th>
                      <th>Username</th>
                      <th>IC Number</th>
                      <th>Date of Birth</th>
                      <th>Gender</th>
                      <th>Contact</th>
                      <th>Address</th>
                      <th>Medicine Allergy</th>
                      <th>Email</th>
                    </tr>
                  </thead>
                  <tbody id="resultsBody">
                    <!-- Results will be appended here -->
                  </tbody>
                </table>
            </div>
            </div>
      </div>

        </div>
        <!--**********************************
            Content body end
        ***********************************-->
        
        
        <!--**********************************
            Footer start
        ***********************************-->
        <div class="footer">
            <div class="copyright">
                <p>Copyright &copy; Designed & Developed by <a href="https://themeforest.net/user/quixlab">Quixlab</a> 2018</p>
            </div>
        </div>
        <!--**********************************
            Footer end
        ***********************************-->
    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
    <script src="plugins/common/common.min.js"></script>
    <script src="js/custom.min.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/gleek.js"></script>
    <script src="js/styleSwitcher.js"></script>

    <script src="./plugins/tables/js/jquery.dataTables.min.js"></script>
    <script src="./plugins/tables/js/datatable/dataTables.bootstrap4.min.js"></script>
    <script src="./plugins/tables/js/datatable-init/datatable-basic.min.js"></script>

    <script>
        function searchPatients() {
            const icNumber = document.getElementById('search').value;
        
            if (!icNumber) {
                alert('Please enter an IC Number.');
                return;
            }
        
            fetch('php/SearchPatients.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ ICNumber: icNumber })
            })
            .then(response => response.json())
            .then(data => {
                if (data.error) {
                    alert(data.error);
                    return;
                }
        
                const resultsTable = document.getElementById('resultsTable');
                const resultsBody = document.getElementById('resultsBody');
                resultsBody.innerHTML = '';  // Clear previous results
        
                data.forEach(patient => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${patient.firstName}</td>
                        <td>${patient.lastName}</td>
                        <td>${patient.username}</td>
                        <td>${patient.ICNumber}</td>
                        <td>${patient.dateOfBirth}</td>
                        <td>${patient.gender}</td>
                        <td>${patient.contact}</td>
                        <td>${patient.address}</td>
                        <td>${patient.medicineAllergy}</td>
                        <td>${patient.email}</td>
                        <!-- Add other columns as needed -->
                    `;
                    resultsBody.appendChild(row);
                });
        
                resultsTable.style.display = 'table';
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Patient Found.');
            });
        }
        </script>

<style>
    .table {
         width: 100%;
         margin-bottom: 1rem;
         color: #212529;
         background-color: transparent;
         border-collapse: collapse;
     }

    .table th,
    .table td {
         padding: 1rem;
         vertical-align: top;
         border: 2px solid #dee2e6;
         text-align: center;
     }

    .table thead th {
         vertical-align: bottom;
         border-bottom: 3px solid #dee2e6;
         background-color: #d1ecf1; /* Light blue color */
     }

    .table tbody + tbody {
         border-top: 3px solid #dee2e6;
     }

    .table-bordered {
         border: 2px solid #dee2e6;
     }

    .table-bordered th,
    .table-bordered td {
         border: 2px solid #dee2e6;
     }

    .table-bordered thead th,
    .table-bordered thead td {
         border-bottom-width: 3px;
     }

    .table-header {
         font-weight: bold;
     }
 </style>

        

</body>

</html>